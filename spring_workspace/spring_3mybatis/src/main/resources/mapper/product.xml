<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
   <mapper namespace="org.iclass.spring_3mybatis.mapper.ProductMapper">
	<select id="selectByPk" parameterType="String" resultType="ProductDto">
		select * from tbl_product where pcode=#{pcode}
	</select>
	<select id="selectAll" resultType="ProductDto">
		select * from tbl_product order by pcategory
	</select>
    <select id="search" parameterType="String" resultType="ProductDto">
        select * from tbl_product where pname like '%'||#{kw}||'%'
    </select>
	<insert id = "insert" parameterType="ProductDto">
		insert into tbl_product(pcode, pcategory, pname,price) 
                    values (#{pcode}, #{pcategory}, #{pname}, #{price})
	</insert>
	<update id="update" parameterType="ProductDto">
		update tbl_product 
		set pcategory = #{pcategory}, pname= #{pname}, price = #{price} 
		where pcode = #{pcode}
	</update>
	<delete id="delete" parameterType="String">
		delete from tbl_product 
			where pcode = #{pcode}
	</delete>
</mapper>  